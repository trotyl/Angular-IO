angular.module("angular-io",[]).provider("$ioProvider",[function(){if(!io)throw new ReferenceError("The Socket.io script is needed!");var i={},e=this;this.connect=function(i){e.register("default",i)},this.register=function(e,t){i[e]=io(t)},this.getSockets=function(){return i},this.getSocket=function(e){return i[e]}}]).service("$io",["$ioProvider",function(i){var e=i.getSockets();for(var t in e)this[t]=e[t]}]).directive("io",["$ioProvider","lowercaseFilter",function(i,e){return{restrict:"A",scope:!0,link:function(t,r,o,n){var c=o[io]||"default",s=i.getSocket(c);for(var a in o)a.startWith&&a.startWith("io")&&"io"!=a&&s.on(e(a.replace("io","")),function(i){$parse(o[a])(t,{$data:i})});t.$io=s}}}]);